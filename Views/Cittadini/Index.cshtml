@using ComuneOnline.Models.Entities
@model IEnumerable<Cittadino>

@if(TempData["SuccessMessage"] != null)
{
    <div id="successMessage" class="alert alert-success">
        @TempData["SuccessMessage"]
    </div>
}

@if(TempData["ErrorMessage"] != null)
{
    <div id="errorMessage" class="alert alert-danger">
        @TempData["ErrorMessage"]
    </div>
}

<h2>Cittadini</h2>

<table class="table">
    <thead>
        <tr>
            <th>Nome</th>
            <th>Cognome</th>
            <th></th>
        </tr>
    </thead>

    <tbody>
        @foreach(var cittadino in Model)
        {
            <tr>
                <td>@cittadino.Nome</td>
                <td>@cittadino.Cognome</td>
                <td><a asp-action="Edit" asp-route-id="@cittadino.CittadinoId" class="btn btn-outline-dark">Modifica</a></td>
            </tr>
        }
    </tbody>
</table>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        setTimeout(() => {
        const success = document.getElementById("successMessage");

        if(success) {
            success.style.display = "none";
        }
    }, 3000)
    })
    
</script>